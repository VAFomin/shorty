(function(t){function e(e){for(var n,s,l=e[0],i=e[1],c=e[2],d=0,f=[];d<l.length;d++)s=l[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&f.push(a[s][0]),a[s]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n]);u&&u(e);while(f.length)f.shift()();return o.push.apply(o,c||[]),r()}function r(){for(var t,e=0;e<o.length;e++){for(var r=o[e],n=!0,l=1;l<r.length;l++){var i=r[l];0!==a[i]&&(n=!1)}n&&(o.splice(e--,1),t=s(s.s=r[0]))}return t}var n={},a={app:0},o=[];function s(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=n,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(r,n,function(e){return t[e]}.bind(null,n));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],i=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var u=i;o.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},3089:function(t,e,r){"use strict";var n=r("5bca"),a=r.n(n);a.a},"56d7":function(t,e,r){"use strict";r.r(e);r("b0c0"),r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=r("8c4f"),o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"v-container pa-4"},[r("v-layout",{staticClass:"text-xs-center",attrs:{column:"column","justify-center":"justify-center","align-center":"align-center"}},[r("v-flex",{attrs:{xs12:"xs12",md10:"md10"}},[r("v-form",{on:{submit:function(e){return e.preventDefault(),t.short()}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-text-field",{staticStyle:{"margin-right":"15px",width:"50em"},attrs:{rules:t.url_rules,label:"Type URL...",solo:""},model:{value:t.url,callback:function(e){t.url=e},expression:"url"}},[r("template",{slot:"append"},[r("v-btn",{attrs:{outlined:"",disabled:!t.valid},on:{click:function(e){return t.short()}}},[t._v(" SHORT ")])],1)],2)],1)],1),r("v-flex",{attrs:{xs12:"xs12",md10:"md10"}},t._l(t.my_urls.slice().reverse(),(function(t){return r("div",{key:t.url},[r("Card",{attrs:{title:t.url,short_url:t.short_url}}),r("br")],1)})),0)],1)],1)},s=[],l=(r("96cf"),r("1da1")),i=r("bc3a"),c=r.n(i);c.a.defaults.baseURL="https://api.shrt.xyz";var u={getToken:function(t){return Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.a.get("/get?token=".concat(t)).then((function(t){return t.data.url})).catch((function(t){console.log(t)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()},shortURL:function(t){return Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.a.post("/short",{url:t}).then((function(t){return t.data.token})).catch((function(t){console.log(t)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()}},d=u,f=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",{staticClass:"mx-auto",attrs:{width:"40em"}},[r("v-card-text",[r("p",{staticClass:"headline"},[t._v(t._s(t.title))]),r("a",{attrs:{href:t.short_url,target:"_blank"}},[r("p",{staticClass:"title"},[t._v(t._s(t.short_url))])])]),r("v-card-actions",[r("v-btn",{attrs:{color:"primary",outlined:""},on:{click:function(e){e.stopPropagation(),t.dialog=!0}}},[t._v(" QR-code ")])],1),r("v-dialog",{attrs:{"max-width":"290"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[t._v("QR-code")]),r("v-card-text",[r("qrcode",{attrs:{value:t.title,options:{width:200}}})],1)],1)],1)],1)},v=[],p={name:"Card",props:{title:String,short_url:String},data:function(){return{dialog:!1}}},h=p,m=(r("3089"),r("2877")),g=Object(m["a"])(h,f,v,!1,null,"590baa22",null),b=g.exports,_={components:{Card:b},data:function(){return{valid:!0,url_rules:[function(t){return!!t||"URL is required"},function(t){return/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/g.test(t)||"URL must be valid"}],url:"",short_url:"",my_urls:[]}},mounted:function(){localStorage.getItem("my_urls")&&(this.my_urls=JSON.parse(localStorage.getItem("my_urls")))},methods:{short:function(){var t=this;this.valid&&d.shortURL(this.url).then((function(e){t.short_url="https://shrt.xyz/u/"+e,t.my_urls.push({url:t.url,short_url:t.short_url}),t.save_urls()}))},save_urls:function(){var t=JSON.stringify(this.my_urls);localStorage.setItem("my_urls",t)}}},y=_,x=Object(m["a"])(y,o,s,!1,null,null,null),k=x.exports,w=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"v-container pa-4"},[r("v-layout",{staticClass:"text-xs-center",attrs:{column:"column","justify-center":"justify-center","align-center":"align-center"}},[r("v-flex",{attrs:{xs12:"xs12",md10:"md10"}},[r("div",{staticClass:"headline pb-4"},[r("h1",[t._v("Redirecting...")])])])],1)],1)},j=[],O={mounted:function(){d.getToken(this.$route.params.token).then((function(t){document.location.href=t}))}},C=O,S=Object(m["a"])(C,w,j,!1,null,null,null),R=S.exports,$=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"v-container pa-4"},[r("v-layout",{staticClass:"text-xs-center",attrs:{column:"column","justify-center":"justify-center","align-center":"align-center"}},[r("v-flex",{attrs:{xs12:"xs12",md10:"md10"}},[r("div",{staticClass:"headline pb-4"},[r("h1",[t._v("Error 404")])]),r("v-btn",{staticClass:"ma-2",attrs:{to:"/",block:"",outlined:"",color:"primary"}},[t._v("HOME")])],1)],1)],1)},P=[],T={},E=Object(m["a"])(T,$,P,!1,null,null,null),I=E.exports;n["default"].use(a["a"]);var L=new a["a"]({mode:"history",routes:[{path:"/",name:"home",component:k},{path:"/u/:token",name:"page",component:R},{path:"*",name:"notFound",component:I}]}),U=L,z=r("ce5b"),M=r.n(z);r("bf40");n["default"].use(M.a);var J=new M.a({theme:{dark:!1}}),D=r("b2e5"),H=r.n(D),Q=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",[r("v-app-bar",{attrs:{app:"","clipped-left":""}},[r("v-img",{staticClass:"mx-2",attrs:{src:"assets/logo.png","max-height":"40","max-width":"40",contain:""}}),r("v-toolbar-title",[t._v("Shorty")]),r("v-spacer"),r("v-btn",{attrs:{icon:""},on:{click:function(e){return t.change_color()}}},[r("v-icon",[t._v("invert_colors")])],1),r("v-btn",{attrs:{icon:""},on:{click:function(e){e.stopPropagation(),t.dialog=!0}}},[r("v-icon",[t._v("help_outline")])],1)],1),r("v-content",[r("v-container",{attrs:{fluid:""}},[r("router-view")],1)],1),r("v-footer",{attrs:{app:""}},[r("span",[t._v("Created by "),r("a",{attrs:{href:"https://enotcode.com",target:"_blank"}},[t._v("enotcode")])])]),r("v-dialog",{attrs:{"max-width":"400"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[t._v("What is Shorty?")]),r("v-card-text",{staticClass:"subtitle-1"},[t._v(" Shorty is a simple link shortener with a QR code. It has open source on "),r("a",{attrs:{href:"https://github.com/enotcode/shorty",target:"_blank"}},[t._v("GitHub")])]),r("v-card-actions",{staticClass:"justify-center"},[r("v-btn",{attrs:{color:"primary",outlined:""},on:{click:function(e){t.dialog=!1}}},[t._v(" OK ")])],1)],1)],1)],1)},q=[],A=(r("d3b7"),r("25f0"),{data:function(){return{dialog:!1}},mounted:function(){var t=localStorage.getItem("useDarkTheme");t&&(this.$vuetify.theme.dark="true"==t)},methods:{change_color:function(){this.$vuetify.theme.dark=!this.$vuetify.theme.dark,localStorage.setItem("useDarkTheme",this.$vuetify.theme.dark.toString())}}}),N=A,Z=Object(m["a"])(N,Q,q,!1,null,null,null),F=Z.exports;n["default"].config.productionTip=!1,n["default"].component(H.a.name,H.a),new n["default"]({router:U,vuetify:J,render:function(t){return t(F)}}).$mount("#app")},"5bca":function(t,e,r){}});
//# sourceMappingURL=app.daca9633.js.map